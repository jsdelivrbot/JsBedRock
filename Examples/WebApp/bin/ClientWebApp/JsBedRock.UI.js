!function(){new JsBedRock.Assemblies.AssemblyDef({Name:"JsBedRock.UI",Dependencies:[new JsBedRock.Assemblies.AssemblyDependency({Name:"JsBedRock.Collections"})],NodeDependencies:[]})}(),JsBedRock.UI=JsBedRock.UI||{},JsBedRock.UI.Utils=JsBedRock.UI.Utils||{},function(e){e.OnLoad(function(){JsBedRock.UI.Utils={GetKeyFromServiceType:function(e){return e.prototype.Name}}})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.Service=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(e){this._Context=e,JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{Name:{Def:""},_Context:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.RestClientService=JsBedRock.Utils.ObjectOriented.CreateClass({Inherit:JsBedRock.UI.Service,Constructor:function(e){this.__Client=new JsBedRock.Web.Rest.RestHttpClient(this._RootUrl),JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.UI.Service)},Members:{_Post:{Def:function(e,t,n){var o=this,s=new JsBedRock.Promise;return this.__Client.Post(e,function(e){4==e.readyState&&(200==e.status?s.Resolve(o.__ProcessResult(e.responseText,t)):s.Reject(o.__ProcessResult(e.responseText,n)))}),s}},__ProcessResult:{Def:function(e,t){var n=new t;return n.FromJson(e),n}},_RootUrl:{Def:""},__Client:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.ServiceCache=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(){this._ServiceDictionary=new JsBedRock.Collections.Dictionary,JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{PopulateCache:{Def:function(){for(var e=JsBedRock.Utils.ObjectOriented.Reflection.GetClassesOfType(JsBedRock.CurrentAssembly,JsBedRock.UI.Service),t=0;t<e.length;t++){var n=JsBedRock.UI.Utils.GetKeyFromServiceType(e[t]);n&&(this._ServiceDictionary.Contains(n)||this._ServiceDictionary.Add(n,e[t]))}}},GetService:{Def:function(e){return this._ServiceDictionary.Contains(JsBedRock.UI.Utils.GetKeyFromServiceType(e))?this._ServiceDictionary.Get(JsBedRock.UI.Utils.GetKeyFromServiceType(e)):null}},_ServiceDictionary:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.ServiceFactory=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(){this.__ServiceCache=new JsBedRock.UI.ServiceCache,JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{Init:{Def:function(){this.__ServiceCache.PopulateCache()}},GetService:{Def:function(e){var t=this.__ServiceCache.GetService(e);return t||JsBedRock.Console.Error(e+" does not map to a registered Service."),new t(this._BuildServiceContext())}},_BuildServiceContext:{Def:function(){return{}}},__ServiceCache:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.Component=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(e,t,n){this._Renderer=t,this._ComponentFactory=n,this._Context=e,this._Service={},this._Model={},JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{Name:{Def:""},Init:{Def:function(){for(var e=this._GetServices(),t=0;t<e.length;t++){var n=JsBedRock.UI.Utils.GetKeyFromServiceType(e[t]);this._Service[n]=this._ComponentFactory.GetServiceFactory().GetService(e[t])}this._BuildModel()}},Render:{Def:function(){return this._Renderer.Render(this._GetTemplate(),{Model:this._GetModel()},this)}},Refresh:{Def:function(){return this.Render()}},_BuildModel:{Def:function(){}},_GetServices:{Def:function(){return[]}},_GetTemplate:{Def:function(){return""}},_GetModel:{Def:function(){return this._Model}},_Service:{Def:null},_Context:{Def:null},_Renderer:{Def:null},_ComponentFactory:{Def:null},_Model:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){var e={GetKeyFromComponentType:function(e){return e.prototype.Name}};JsBedRock.UI.ComponentCache=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(){this._ComponentDictionary=new JsBedRock.Collections.Dictionary,JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{PopulateCache:{Def:function(){for(var t=JsBedRock.Utils.ObjectOriented.Reflection.GetClassesOfType(JsBedRock.CurrentAssembly,JsBedRock.UI.Component),n=0;n<t.length;n++){var o=e.GetKeyFromComponentType(t[n]);o&&(this._ComponentDictionary.Contains(o)||this._ComponentDictionary.Add(o,t[n]))}}},GetComponent:{Def:function(t){return this._ComponentDictionary.Contains(e.GetKeyFromComponentType(t))?this._ComponentDictionary.Get(e.GetKeyFromComponentType(t)):null}},GetComponentFromKey:{Def:function(e){return this._ComponentDictionary.Contains(e)?this._ComponentDictionary.Get(e):null}},GetComponents:{Def:function(){return this._ComponentDictionary.GetEnumerator()}},_ComponentDictionary:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.ComponentFactory=JsBedRock.Utils.ObjectOriented.CreateClass({Constructor:function(e,t){this.__ComponentRenderer=e,this.__ServiceFactory=t,this.__ComponentCache=new JsBedRock.UI.ComponentCache,JsBedRock.Utils.ObjectOriented.CallBaseConstructor(this,JsBedRock.Types.Object)},Members:{Init:{Def:function(){this.__ComponentCache.PopulateCache(),this.__ComponentRenderer.Init(this),this.__ServiceFactory.Init()}},GetComponent:{Def:function(e,t){var n=this.__ComponentCache.GetComponent(e);n||JsBedRock.Console.Error(e+" does not map to a registered component.");var o=new n(this._BuildComponentContext(t),this.__ComponentRenderer,this);return o.Init(),o}},GetServiceFactory:{Def:function(){return this.__ServiceFactory}},_BuildComponentContext:{Def:function(e){return JsBedRock.Utils.Object.MergeObjects({},e)}},__ComponentCache:{Def:null},__ServiceFactory:{Def:null},__ComponentRenderer:{Def:null}}})})}(JsBedRock.CurrentAssembly),JsBedRock.UI=JsBedRock.UI||{},function(e){e.OnLoad(function(){JsBedRock.UI.IComponentRenderer=JsBedRock.Utils.ObjectOriented.CreateInterface({Members:{Init:function(e){},Render:function(e,t,n){}},Name:"IComponentRenderer"})})}(JsBedRock.CurrentAssembly),function(e){JsBedRock.Assemblies.GlobalAssemblyCache.RegisterAssembly(e)}(JsBedRock.CurrentAssembly);
//# sourceMappingURL=/home/nathan/Documents/JsBedRock/bin/0.16.02/JsBedRock.UI.js.map